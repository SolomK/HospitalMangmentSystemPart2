{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    default: mod\n  };\n};\n\nconst content_security_policy_1 = __importDefault(require(\"./middlewares/content-security-policy\"));\n\nconst cross_origin_embedder_policy_1 = __importDefault(require(\"./middlewares/cross-origin-embedder-policy\"));\n\nconst cross_origin_opener_policy_1 = __importDefault(require(\"./middlewares/cross-origin-opener-policy\"));\n\nconst cross_origin_resource_policy_1 = __importDefault(require(\"./middlewares/cross-origin-resource-policy\"));\n\nconst expect_ct_1 = __importDefault(require(\"./middlewares/expect-ct\"));\n\nconst origin_agent_cluster_1 = __importDefault(require(\"./middlewares/origin-agent-cluster\"));\n\nconst referrer_policy_1 = __importDefault(require(\"./middlewares/referrer-policy\"));\n\nconst strict_transport_security_1 = __importDefault(require(\"./middlewares/strict-transport-security\"));\n\nconst x_content_type_options_1 = __importDefault(require(\"./middlewares/x-content-type-options\"));\n\nconst x_dns_prefetch_control_1 = __importDefault(require(\"./middlewares/x-dns-prefetch-control\"));\n\nconst x_download_options_1 = __importDefault(require(\"./middlewares/x-download-options\"));\n\nconst x_frame_options_1 = __importDefault(require(\"./middlewares/x-frame-options\"));\n\nconst x_permitted_cross_domain_policies_1 = __importDefault(require(\"./middlewares/x-permitted-cross-domain-policies\"));\n\nconst x_powered_by_1 = __importDefault(require(\"./middlewares/x-powered-by\"));\n\nconst x_xss_protection_1 = __importDefault(require(\"./middlewares/x-xss-protection\"));\n\nfunction getArgs(option, middlewareConfig = {}) {\n  const {\n    enabledByDefault = true\n  } = middlewareConfig;\n\n  switch (option) {\n    case undefined:\n      return enabledByDefault ? [] : null;\n\n    case false:\n      return null;\n\n    case true:\n      return [];\n\n    default:\n      if (middlewareConfig.takesOptions === false) {\n        console.warn(`${middlewareConfig.name} does not take options. ${enabledByDefault ? \"Remove the property\" : \"Set the property to `true`\"} to silence this warning.`);\n        return [];\n      } else {\n        return [option];\n      }\n\n  }\n}\n\nfunction getMiddlewareFunctionsFromOptions(options) {\n  const result = [];\n  const contentSecurityPolicyArgs = getArgs(options.contentSecurityPolicy);\n\n  if (contentSecurityPolicyArgs) {\n    result.push(content_security_policy_1.default(...contentSecurityPolicyArgs));\n  }\n\n  const crossOriginEmbedderPolicyArgs = getArgs(options.crossOriginEmbedderPolicy, {\n    name: \"crossOriginEmbedderPolicy\",\n    takesOptions: false,\n    enabledByDefault: false\n  });\n\n  if (crossOriginEmbedderPolicyArgs) {\n    result.push(cross_origin_embedder_policy_1.default());\n  }\n\n  const crossOriginOpenerPolicyArgs = getArgs(options.crossOriginOpenerPolicy, {\n    enabledByDefault: false\n  });\n\n  if (crossOriginOpenerPolicyArgs) {\n    result.push(cross_origin_opener_policy_1.default(...crossOriginOpenerPolicyArgs));\n  }\n\n  const crossOriginResourcePolicyArgs = getArgs(options.crossOriginResourcePolicy, {\n    enabledByDefault: false\n  });\n\n  if (crossOriginResourcePolicyArgs) {\n    result.push(cross_origin_resource_policy_1.default(...crossOriginResourcePolicyArgs));\n  }\n\n  const xDnsPrefetchControlArgs = getArgs(options.dnsPrefetchControl);\n\n  if (xDnsPrefetchControlArgs) {\n    result.push(x_dns_prefetch_control_1.default(...xDnsPrefetchControlArgs));\n  }\n\n  const expectCtArgs = getArgs(options.expectCt);\n\n  if (expectCtArgs) {\n    result.push(expect_ct_1.default(...expectCtArgs));\n  }\n\n  const xFrameOptionsArgs = getArgs(options.frameguard);\n\n  if (xFrameOptionsArgs) {\n    result.push(x_frame_options_1.default(...xFrameOptionsArgs));\n  }\n\n  const xPoweredByArgs = getArgs(options.hidePoweredBy, {\n    name: \"hidePoweredBy\",\n    takesOptions: false\n  });\n\n  if (xPoweredByArgs) {\n    result.push(x_powered_by_1.default());\n  }\n\n  const strictTransportSecurityArgs = getArgs(options.hsts);\n\n  if (strictTransportSecurityArgs) {\n    result.push(strict_transport_security_1.default(...strictTransportSecurityArgs));\n  }\n\n  const xDownloadOptionsArgs = getArgs(options.ieNoOpen, {\n    name: \"ieNoOpen\",\n    takesOptions: false\n  });\n\n  if (xDownloadOptionsArgs) {\n    result.push(x_download_options_1.default());\n  }\n\n  const xContentTypeOptionsArgs = getArgs(options.noSniff, {\n    name: \"noSniff\",\n    takesOptions: false\n  });\n\n  if (xContentTypeOptionsArgs) {\n    result.push(x_content_type_options_1.default());\n  }\n\n  const originAgentClusterArgs = getArgs(options.originAgentCluster, {\n    name: \"originAgentCluster\",\n    takesOptions: false,\n    enabledByDefault: false\n  });\n\n  if (originAgentClusterArgs) {\n    result.push(origin_agent_cluster_1.default());\n  }\n\n  const xPermittedCrossDomainPoliciesArgs = getArgs(options.permittedCrossDomainPolicies);\n\n  if (xPermittedCrossDomainPoliciesArgs) {\n    result.push(x_permitted_cross_domain_policies_1.default(...xPermittedCrossDomainPoliciesArgs));\n  }\n\n  const referrerPolicyArgs = getArgs(options.referrerPolicy);\n\n  if (referrerPolicyArgs) {\n    result.push(referrer_policy_1.default(...referrerPolicyArgs));\n  }\n\n  const xXssProtectionArgs = getArgs(options.xssFilter, {\n    name: \"xssFilter\",\n    takesOptions: false\n  });\n\n  if (xXssProtectionArgs) {\n    result.push(x_xss_protection_1.default());\n  }\n\n  return result;\n}\n\nconst helmet = Object.assign(function helmet(options = {}) {\n  var _a;\n\n  if (((_a = options.constructor) === null || _a === void 0 ? void 0 : _a.name) === \"IncomingMessage\") {\n    throw new Error(\"It appears you have done something like `app.use(helmet)`, but it should be `app.use(helmet())`.\");\n  }\n\n  const middlewareFunctions = getMiddlewareFunctionsFromOptions(options);\n  return function helmetMiddleware(req, res, next) {\n    const iterator = middlewareFunctions[Symbol.iterator]();\n\n    (function internalNext(err) {\n      if (err) {\n        next(err);\n        return;\n      }\n\n      const iteration = iterator.next();\n\n      if (iteration.done) {\n        next();\n      } else {\n        const middlewareFunction = iteration.value;\n        middlewareFunction(req, res, internalNext);\n      }\n    })();\n  };\n}, {\n  contentSecurityPolicy: content_security_policy_1.default,\n  crossOriginEmbedderPolicy: cross_origin_embedder_policy_1.default,\n  crossOriginOpenerPolicy: cross_origin_opener_policy_1.default,\n  crossOriginResourcePolicy: cross_origin_resource_policy_1.default,\n  dnsPrefetchControl: x_dns_prefetch_control_1.default,\n  expectCt: expect_ct_1.default,\n  frameguard: x_frame_options_1.default,\n  hidePoweredBy: x_powered_by_1.default,\n  hsts: strict_transport_security_1.default,\n  ieNoOpen: x_download_options_1.default,\n  noSniff: x_content_type_options_1.default,\n  originAgentCluster: origin_agent_cluster_1.default,\n  permittedCrossDomainPolicies: x_permitted_cross_domain_policies_1.default,\n  referrerPolicy: referrer_policy_1.default,\n  xssFilter: x_xss_protection_1.default,\n\n  featurePolicy() {\n    throw new Error(\"helmet.featurePolicy was removed because the Feature-Policy header is deprecated. If you still need this header, you can use the `feature-policy` module.\");\n  },\n\n  hpkp() {\n    throw new Error(\"helmet.hpkp was removed because the header has been deprecated. If you still need this header, you can use the `hpkp` module. For more, see <https://github.com/helmetjs/helmet/issues/180>.\");\n  },\n\n  noCache() {\n    throw new Error(\"helmet.noCache was removed. You can use the `nocache` module instead. For more, see <https://github.com/helmetjs/helmet/issues/215>.\");\n  }\n\n});\nmodule.exports = helmet;","map":{"version":3,"sources":["C:/Users/Yoni/Desktop/maruf/movie/node_modules/helmet/dist/index.js"],"names":["__importDefault","mod","__esModule","default","content_security_policy_1","require","cross_origin_embedder_policy_1","cross_origin_opener_policy_1","cross_origin_resource_policy_1","expect_ct_1","origin_agent_cluster_1","referrer_policy_1","strict_transport_security_1","x_content_type_options_1","x_dns_prefetch_control_1","x_download_options_1","x_frame_options_1","x_permitted_cross_domain_policies_1","x_powered_by_1","x_xss_protection_1","getArgs","option","middlewareConfig","enabledByDefault","undefined","takesOptions","console","warn","name","getMiddlewareFunctionsFromOptions","options","result","contentSecurityPolicyArgs","contentSecurityPolicy","push","crossOriginEmbedderPolicyArgs","crossOriginEmbedderPolicy","crossOriginOpenerPolicyArgs","crossOriginOpenerPolicy","crossOriginResourcePolicyArgs","crossOriginResourcePolicy","xDnsPrefetchControlArgs","dnsPrefetchControl","expectCtArgs","expectCt","xFrameOptionsArgs","frameguard","xPoweredByArgs","hidePoweredBy","strictTransportSecurityArgs","hsts","xDownloadOptionsArgs","ieNoOpen","xContentTypeOptionsArgs","noSniff","originAgentClusterArgs","originAgentCluster","xPermittedCrossDomainPoliciesArgs","permittedCrossDomainPolicies","referrerPolicyArgs","referrerPolicy","xXssProtectionArgs","xssFilter","helmet","Object","assign","_a","constructor","Error","middlewareFunctions","helmetMiddleware","req","res","next","iterator","Symbol","internalNext","err","iteration","done","middlewareFunction","value","featurePolicy","hpkp","noCache","module","exports"],"mappings":"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","sourcesContent":["\"use strict\"\nvar __importDefault =\n\t(this && this.__importDefault) ||\n\tfunction (mod) {\n\t\treturn mod && mod.__esModule ? mod : { default: mod }\n\t}\nconst content_security_policy_1 = __importDefault(require(\"./middlewares/content-security-policy\"))\nconst cross_origin_embedder_policy_1 = __importDefault(require(\"./middlewares/cross-origin-embedder-policy\"))\nconst cross_origin_opener_policy_1 = __importDefault(require(\"./middlewares/cross-origin-opener-policy\"))\nconst cross_origin_resource_policy_1 = __importDefault(require(\"./middlewares/cross-origin-resource-policy\"))\nconst expect_ct_1 = __importDefault(require(\"./middlewares/expect-ct\"))\nconst origin_agent_cluster_1 = __importDefault(require(\"./middlewares/origin-agent-cluster\"))\nconst referrer_policy_1 = __importDefault(require(\"./middlewares/referrer-policy\"))\nconst strict_transport_security_1 = __importDefault(require(\"./middlewares/strict-transport-security\"))\nconst x_content_type_options_1 = __importDefault(require(\"./middlewares/x-content-type-options\"))\nconst x_dns_prefetch_control_1 = __importDefault(require(\"./middlewares/x-dns-prefetch-control\"))\nconst x_download_options_1 = __importDefault(require(\"./middlewares/x-download-options\"))\nconst x_frame_options_1 = __importDefault(require(\"./middlewares/x-frame-options\"))\nconst x_permitted_cross_domain_policies_1 = __importDefault(require(\"./middlewares/x-permitted-cross-domain-policies\"))\nconst x_powered_by_1 = __importDefault(require(\"./middlewares/x-powered-by\"))\nconst x_xss_protection_1 = __importDefault(require(\"./middlewares/x-xss-protection\"))\nfunction getArgs(option, middlewareConfig = {}) {\n\tconst { enabledByDefault = true } = middlewareConfig\n\tswitch (option) {\n\t\tcase undefined:\n\t\t\treturn enabledByDefault ? [] : null\n\t\tcase false:\n\t\t\treturn null\n\t\tcase true:\n\t\t\treturn []\n\t\tdefault:\n\t\t\tif (middlewareConfig.takesOptions === false) {\n\t\t\t\tconsole.warn(`${middlewareConfig.name} does not take options. ${enabledByDefault ? \"Remove the property\" : \"Set the property to `true`\"} to silence this warning.`)\n\t\t\t\treturn []\n\t\t\t} else {\n\t\t\t\treturn [option]\n\t\t\t}\n\t}\n}\nfunction getMiddlewareFunctionsFromOptions(options) {\n\tconst result = []\n\tconst contentSecurityPolicyArgs = getArgs(options.contentSecurityPolicy)\n\tif (contentSecurityPolicyArgs) {\n\t\tresult.push(content_security_policy_1.default(...contentSecurityPolicyArgs))\n\t}\n\tconst crossOriginEmbedderPolicyArgs = getArgs(options.crossOriginEmbedderPolicy, {\n\t\tname: \"crossOriginEmbedderPolicy\",\n\t\ttakesOptions: false,\n\t\tenabledByDefault: false\n\t})\n\tif (crossOriginEmbedderPolicyArgs) {\n\t\tresult.push(cross_origin_embedder_policy_1.default())\n\t}\n\tconst crossOriginOpenerPolicyArgs = getArgs(options.crossOriginOpenerPolicy, {\n\t\tenabledByDefault: false\n\t})\n\tif (crossOriginOpenerPolicyArgs) {\n\t\tresult.push(cross_origin_opener_policy_1.default(...crossOriginOpenerPolicyArgs))\n\t}\n\tconst crossOriginResourcePolicyArgs = getArgs(options.crossOriginResourcePolicy, { enabledByDefault: false })\n\tif (crossOriginResourcePolicyArgs) {\n\t\tresult.push(cross_origin_resource_policy_1.default(...crossOriginResourcePolicyArgs))\n\t}\n\tconst xDnsPrefetchControlArgs = getArgs(options.dnsPrefetchControl)\n\tif (xDnsPrefetchControlArgs) {\n\t\tresult.push(x_dns_prefetch_control_1.default(...xDnsPrefetchControlArgs))\n\t}\n\tconst expectCtArgs = getArgs(options.expectCt)\n\tif (expectCtArgs) {\n\t\tresult.push(expect_ct_1.default(...expectCtArgs))\n\t}\n\tconst xFrameOptionsArgs = getArgs(options.frameguard)\n\tif (xFrameOptionsArgs) {\n\t\tresult.push(x_frame_options_1.default(...xFrameOptionsArgs))\n\t}\n\tconst xPoweredByArgs = getArgs(options.hidePoweredBy, {\n\t\tname: \"hidePoweredBy\",\n\t\ttakesOptions: false\n\t})\n\tif (xPoweredByArgs) {\n\t\tresult.push(x_powered_by_1.default())\n\t}\n\tconst strictTransportSecurityArgs = getArgs(options.hsts)\n\tif (strictTransportSecurityArgs) {\n\t\tresult.push(strict_transport_security_1.default(...strictTransportSecurityArgs))\n\t}\n\tconst xDownloadOptionsArgs = getArgs(options.ieNoOpen, {\n\t\tname: \"ieNoOpen\",\n\t\ttakesOptions: false\n\t})\n\tif (xDownloadOptionsArgs) {\n\t\tresult.push(x_download_options_1.default())\n\t}\n\tconst xContentTypeOptionsArgs = getArgs(options.noSniff, {\n\t\tname: \"noSniff\",\n\t\ttakesOptions: false\n\t})\n\tif (xContentTypeOptionsArgs) {\n\t\tresult.push(x_content_type_options_1.default())\n\t}\n\tconst originAgentClusterArgs = getArgs(options.originAgentCluster, {\n\t\tname: \"originAgentCluster\",\n\t\ttakesOptions: false,\n\t\tenabledByDefault: false\n\t})\n\tif (originAgentClusterArgs) {\n\t\tresult.push(origin_agent_cluster_1.default())\n\t}\n\tconst xPermittedCrossDomainPoliciesArgs = getArgs(options.permittedCrossDomainPolicies)\n\tif (xPermittedCrossDomainPoliciesArgs) {\n\t\tresult.push(x_permitted_cross_domain_policies_1.default(...xPermittedCrossDomainPoliciesArgs))\n\t}\n\tconst referrerPolicyArgs = getArgs(options.referrerPolicy)\n\tif (referrerPolicyArgs) {\n\t\tresult.push(referrer_policy_1.default(...referrerPolicyArgs))\n\t}\n\tconst xXssProtectionArgs = getArgs(options.xssFilter, {\n\t\tname: \"xssFilter\",\n\t\ttakesOptions: false\n\t})\n\tif (xXssProtectionArgs) {\n\t\tresult.push(x_xss_protection_1.default())\n\t}\n\treturn result\n}\nconst helmet = Object.assign(\n\tfunction helmet(options = {}) {\n\t\tvar _a\n\t\tif (((_a = options.constructor) === null || _a === void 0 ? void 0 : _a.name) === \"IncomingMessage\") {\n\t\t\tthrow new Error(\"It appears you have done something like `app.use(helmet)`, but it should be `app.use(helmet())`.\")\n\t\t}\n\t\tconst middlewareFunctions = getMiddlewareFunctionsFromOptions(options)\n\t\treturn function helmetMiddleware(req, res, next) {\n\t\t\tconst iterator = middlewareFunctions[Symbol.iterator]()\n\t\t\t;(function internalNext(err) {\n\t\t\t\tif (err) {\n\t\t\t\t\tnext(err)\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tconst iteration = iterator.next()\n\t\t\t\tif (iteration.done) {\n\t\t\t\t\tnext()\n\t\t\t\t} else {\n\t\t\t\t\tconst middlewareFunction = iteration.value\n\t\t\t\t\tmiddlewareFunction(req, res, internalNext)\n\t\t\t\t}\n\t\t\t})()\n\t\t}\n\t},\n\t{\n\t\tcontentSecurityPolicy: content_security_policy_1.default,\n\t\tcrossOriginEmbedderPolicy: cross_origin_embedder_policy_1.default,\n\t\tcrossOriginOpenerPolicy: cross_origin_opener_policy_1.default,\n\t\tcrossOriginResourcePolicy: cross_origin_resource_policy_1.default,\n\t\tdnsPrefetchControl: x_dns_prefetch_control_1.default,\n\t\texpectCt: expect_ct_1.default,\n\t\tframeguard: x_frame_options_1.default,\n\t\thidePoweredBy: x_powered_by_1.default,\n\t\thsts: strict_transport_security_1.default,\n\t\tieNoOpen: x_download_options_1.default,\n\t\tnoSniff: x_content_type_options_1.default,\n\t\toriginAgentCluster: origin_agent_cluster_1.default,\n\t\tpermittedCrossDomainPolicies: x_permitted_cross_domain_policies_1.default,\n\t\treferrerPolicy: referrer_policy_1.default,\n\t\txssFilter: x_xss_protection_1.default,\n\t\tfeaturePolicy() {\n\t\t\tthrow new Error(\"helmet.featurePolicy was removed because the Feature-Policy header is deprecated. If you still need this header, you can use the `feature-policy` module.\")\n\t\t},\n\t\thpkp() {\n\t\t\tthrow new Error(\"helmet.hpkp was removed because the header has been deprecated. If you still need this header, you can use the `hpkp` module. For more, see <https://github.com/helmetjs/helmet/issues/180>.\")\n\t\t},\n\t\tnoCache() {\n\t\t\tthrow new Error(\"helmet.noCache was removed. You can use the `nocache` module instead. For more, see <https://github.com/helmetjs/helmet/issues/215>.\")\n\t\t}\n\t}\n)\nmodule.exports = helmet\n"]},"metadata":{},"sourceType":"script"}