{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction parseMaxAge(value = 0) {\n  if (value >= 0 && Number.isFinite(value)) {\n    return Math.floor(value);\n  } else {\n    throw new Error(`Expect-CT: ${JSON.stringify(value)} is not a valid value for maxAge. Please choose a positive integer.`);\n  }\n}\n\nfunction getHeaderValueFromOptions(options) {\n  const directives = [`max-age=${parseMaxAge(options.maxAge)}`];\n\n  if (options.enforce) {\n    directives.push(\"enforce\");\n  }\n\n  if (options.reportUri) {\n    directives.push(`report-uri=\"${options.reportUri}\"`);\n  }\n\n  return directives.join(\", \");\n}\n\nfunction expectCt(options = {}) {\n  const headerValue = getHeaderValueFromOptions(options);\n  return function expectCtMiddleware(_req, res, next) {\n    res.setHeader(\"Expect-CT\", headerValue);\n    next();\n  };\n}\n\nmodule.exports = expectCt;\nexports.default = expectCt;","map":{"version":3,"sources":["C:/Users/Yoni/Desktop/maruf/movie/node_modules/helmet/dist/middlewares/expect-ct/index.js"],"names":["Object","defineProperty","exports","value","parseMaxAge","Number","isFinite","Math","floor","Error","JSON","stringify","getHeaderValueFromOptions","options","directives","maxAge","enforce","push","reportUri","join","expectCt","headerValue","expectCtMiddleware","_req","res","next","setHeader","module","default"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,SAASC,WAAT,CAAqBD,KAAK,GAAG,CAA7B,EAAgC;AAC/B,MAAIA,KAAK,IAAI,CAAT,IAAcE,MAAM,CAACC,QAAP,CAAgBH,KAAhB,CAAlB,EAA0C;AACzC,WAAOI,IAAI,CAACC,KAAL,CAAWL,KAAX,CAAP;AACA,GAFD,MAEO;AACN,UAAM,IAAIM,KAAJ,CAAW,cAAaC,IAAI,CAACC,SAAL,CAAeR,KAAf,CAAsB,qEAA9C,CAAN;AACA;AACD;;AACD,SAASS,yBAAT,CAAmCC,OAAnC,EAA4C;AAC3C,QAAMC,UAAU,GAAG,CAAE,WAAUV,WAAW,CAACS,OAAO,CAACE,MAAT,CAAiB,EAAxC,CAAnB;;AACA,MAAIF,OAAO,CAACG,OAAZ,EAAqB;AACpBF,IAAAA,UAAU,CAACG,IAAX,CAAgB,SAAhB;AACA;;AACD,MAAIJ,OAAO,CAACK,SAAZ,EAAuB;AACtBJ,IAAAA,UAAU,CAACG,IAAX,CAAiB,eAAcJ,OAAO,CAACK,SAAU,GAAjD;AACA;;AACD,SAAOJ,UAAU,CAACK,IAAX,CAAgB,IAAhB,CAAP;AACA;;AACD,SAASC,QAAT,CAAkBP,OAAO,GAAG,EAA5B,EAAgC;AAC/B,QAAMQ,WAAW,GAAGT,yBAAyB,CAACC,OAAD,CAA7C;AACA,SAAO,SAASS,kBAAT,CAA4BC,IAA5B,EAAkCC,GAAlC,EAAuCC,IAAvC,EAA6C;AACnDD,IAAAA,GAAG,CAACE,SAAJ,CAAc,WAAd,EAA2BL,WAA3B;AACAI,IAAAA,IAAI;AACJ,GAHD;AAIA;;AACDE,MAAM,CAACzB,OAAP,GAAiBkB,QAAjB;AACAlB,OAAO,CAAC0B,OAAR,GAAkBR,QAAlB","sourcesContent":["\"use strict\"\nObject.defineProperty(exports, \"__esModule\", { value: true })\nfunction parseMaxAge(value = 0) {\n\tif (value >= 0 && Number.isFinite(value)) {\n\t\treturn Math.floor(value)\n\t} else {\n\t\tthrow new Error(`Expect-CT: ${JSON.stringify(value)} is not a valid value for maxAge. Please choose a positive integer.`)\n\t}\n}\nfunction getHeaderValueFromOptions(options) {\n\tconst directives = [`max-age=${parseMaxAge(options.maxAge)}`]\n\tif (options.enforce) {\n\t\tdirectives.push(\"enforce\")\n\t}\n\tif (options.reportUri) {\n\t\tdirectives.push(`report-uri=\"${options.reportUri}\"`)\n\t}\n\treturn directives.join(\", \")\n}\nfunction expectCt(options = {}) {\n\tconst headerValue = getHeaderValueFromOptions(options)\n\treturn function expectCtMiddleware(_req, res, next) {\n\t\tres.setHeader(\"Expect-CT\", headerValue)\n\t\tnext()\n\t}\n}\nmodule.exports = expectCt\nexports.default = expectCt\n"]},"metadata":{},"sourceType":"script"}