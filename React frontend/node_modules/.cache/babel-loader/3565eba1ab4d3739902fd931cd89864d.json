{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst DEFAULT_MAX_AGE = 180 * 24 * 60 * 60;\n\nfunction parseMaxAge(value = DEFAULT_MAX_AGE) {\n  if (value >= 0 && Number.isFinite(value)) {\n    return Math.floor(value);\n  } else {\n    throw new Error(`Strict-Transport-Security: ${JSON.stringify(value)} is not a valid value for maxAge. Please choose a positive integer.`);\n  }\n}\n\nfunction getHeaderValueFromOptions(options) {\n  if (\"maxage\" in options) {\n    throw new Error(\"Strict-Transport-Security received an unsupported property, `maxage`. Did you mean to pass `maxAge`?\");\n  }\n\n  if (\"includeSubdomains\" in options) {\n    console.warn('Strict-Transport-Security middleware should use `includeSubDomains` instead of `includeSubdomains`. (The correct one has an uppercase \"D\".)');\n  }\n\n  if (\"setIf\" in options) {\n    console.warn(\"Strict-Transport-Security middleware no longer supports the `setIf` parameter. See the documentation and <https://github.com/helmetjs/helmet/wiki/Conditionally-using-middleware> if you need help replicating this behavior.\");\n  }\n\n  const directives = [`max-age=${parseMaxAge(options.maxAge)}`];\n\n  if (options.includeSubDomains === undefined || options.includeSubDomains) {\n    directives.push(\"includeSubDomains\");\n  }\n\n  if (options.preload) {\n    directives.push(\"preload\");\n  }\n\n  return directives.join(\"; \");\n}\n\nfunction strictTransportSecurity(options = {}) {\n  const headerValue = getHeaderValueFromOptions(options);\n  return function strictTransportSecurityMiddleware(_req, res, next) {\n    res.setHeader(\"Strict-Transport-Security\", headerValue);\n    next();\n  };\n}\n\nmodule.exports = strictTransportSecurity;\nexports.default = strictTransportSecurity;","map":{"version":3,"sources":["C:/Users/Yoni/Desktop/maruf/movie/node_modules/helmet/dist/middlewares/strict-transport-security/index.js"],"names":["Object","defineProperty","exports","value","DEFAULT_MAX_AGE","parseMaxAge","Number","isFinite","Math","floor","Error","JSON","stringify","getHeaderValueFromOptions","options","console","warn","directives","maxAge","includeSubDomains","undefined","push","preload","join","strictTransportSecurity","headerValue","strictTransportSecurityMiddleware","_req","res","next","setHeader","module","default"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACA,MAAMC,eAAe,GAAG,MAAM,EAAN,GAAW,EAAX,GAAgB,EAAxC;;AACA,SAASC,WAAT,CAAqBF,KAAK,GAAGC,eAA7B,EAA8C;AAC7C,MAAID,KAAK,IAAI,CAAT,IAAcG,MAAM,CAACC,QAAP,CAAgBJ,KAAhB,CAAlB,EAA0C;AACzC,WAAOK,IAAI,CAACC,KAAL,CAAWN,KAAX,CAAP;AACA,GAFD,MAEO;AACN,UAAM,IAAIO,KAAJ,CAAW,8BAA6BC,IAAI,CAACC,SAAL,CAAeT,KAAf,CAAsB,qEAA9D,CAAN;AACA;AACD;;AACD,SAASU,yBAAT,CAAmCC,OAAnC,EAA4C;AAC3C,MAAI,YAAYA,OAAhB,EAAyB;AACxB,UAAM,IAAIJ,KAAJ,CAAU,sGAAV,CAAN;AACA;;AACD,MAAI,uBAAuBI,OAA3B,EAAoC;AACnCC,IAAAA,OAAO,CAACC,IAAR,CAAa,6IAAb;AACA;;AACD,MAAI,WAAWF,OAAf,EAAwB;AACvBC,IAAAA,OAAO,CAACC,IAAR,CAAa,+NAAb;AACA;;AACD,QAAMC,UAAU,GAAG,CAAE,WAAUZ,WAAW,CAACS,OAAO,CAACI,MAAT,CAAiB,EAAxC,CAAnB;;AACA,MAAIJ,OAAO,CAACK,iBAAR,KAA8BC,SAA9B,IAA2CN,OAAO,CAACK,iBAAvD,EAA0E;AACzEF,IAAAA,UAAU,CAACI,IAAX,CAAgB,mBAAhB;AACA;;AACD,MAAIP,OAAO,CAACQ,OAAZ,EAAqB;AACpBL,IAAAA,UAAU,CAACI,IAAX,CAAgB,SAAhB;AACA;;AACD,SAAOJ,UAAU,CAACM,IAAX,CAAgB,IAAhB,CAAP;AACA;;AACD,SAASC,uBAAT,CAAiCV,OAAO,GAAG,EAA3C,EAA+C;AAC9C,QAAMW,WAAW,GAAGZ,yBAAyB,CAACC,OAAD,CAA7C;AACA,SAAO,SAASY,iCAAT,CAA2CC,IAA3C,EAAiDC,GAAjD,EAAsDC,IAAtD,EAA4D;AAClED,IAAAA,GAAG,CAACE,SAAJ,CAAc,2BAAd,EAA2CL,WAA3C;AACAI,IAAAA,IAAI;AACJ,GAHD;AAIA;;AACDE,MAAM,CAAC7B,OAAP,GAAiBsB,uBAAjB;AACAtB,OAAO,CAAC8B,OAAR,GAAkBR,uBAAlB","sourcesContent":["\"use strict\"\nObject.defineProperty(exports, \"__esModule\", { value: true })\nconst DEFAULT_MAX_AGE = 180 * 24 * 60 * 60\nfunction parseMaxAge(value = DEFAULT_MAX_AGE) {\n\tif (value >= 0 && Number.isFinite(value)) {\n\t\treturn Math.floor(value)\n\t} else {\n\t\tthrow new Error(`Strict-Transport-Security: ${JSON.stringify(value)} is not a valid value for maxAge. Please choose a positive integer.`)\n\t}\n}\nfunction getHeaderValueFromOptions(options) {\n\tif (\"maxage\" in options) {\n\t\tthrow new Error(\"Strict-Transport-Security received an unsupported property, `maxage`. Did you mean to pass `maxAge`?\")\n\t}\n\tif (\"includeSubdomains\" in options) {\n\t\tconsole.warn('Strict-Transport-Security middleware should use `includeSubDomains` instead of `includeSubdomains`. (The correct one has an uppercase \"D\".)')\n\t}\n\tif (\"setIf\" in options) {\n\t\tconsole.warn(\"Strict-Transport-Security middleware no longer supports the `setIf` parameter. See the documentation and <https://github.com/helmetjs/helmet/wiki/Conditionally-using-middleware> if you need help replicating this behavior.\")\n\t}\n\tconst directives = [`max-age=${parseMaxAge(options.maxAge)}`]\n\tif (options.includeSubDomains === undefined || options.includeSubDomains) {\n\t\tdirectives.push(\"includeSubDomains\")\n\t}\n\tif (options.preload) {\n\t\tdirectives.push(\"preload\")\n\t}\n\treturn directives.join(\"; \")\n}\nfunction strictTransportSecurity(options = {}) {\n\tconst headerValue = getHeaderValueFromOptions(options)\n\treturn function strictTransportSecurityMiddleware(_req, res, next) {\n\t\tres.setHeader(\"Strict-Transport-Security\", headerValue)\n\t\tnext()\n\t}\n}\nmodule.exports = strictTransportSecurity\nexports.default = strictTransportSecurity\n"]},"metadata":{},"sourceType":"script"}